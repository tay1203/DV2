{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": 250,
    "height": 190,
    "padding": {"top": 20},
    "config": {
        "view": {"stroke": "transparent"}
    },
    "data": {
      "name": "nutrition"
    },
    "transform": [
      {
        "calculate": "datum.value",
        "as": "Contained Calories"
      },
      {
        "calculate": "2130 - datum.value",
        "as": "Remaining Calories"
      },
      {
        "calculate": "datum.value / 2130 * 100",
        "as": "Percentage"
      },
      {
        "fold": ["Contained Calories", "Remaining Calories"],
        "as": ["Category", "Amount"]
      }
    ],
    "layer": [
    {
      "mark": {
        "type": "text",
        "align": "center",
        "baseline": "middle",
        "fontSize": 60,
        "font": "Arial",
        "dx": -10
      },
      "encoding": {
        "text": {
          "field": "Contained Calories",
          "type": "quantitative",
          "format": ".0f",
          "formatType": "number"
        },
        "y": { "value": 80 }
      }
    },
    {
      "mark": {
        "type": "text",
        "align": "center",
        "baseline": "middle",
        "fontSize": 35,
        "font": "Arial",
        "dx": 78
    
      },
      "encoding": {
        "text": { "value": "kcal" },
        "y": { "value": 80 }
      }
    },
    {
      "mark": {
        "type": "text",
        "align": "right",
        "baseline": "middle",
        "fontSize": 18,
        "font": "Arial",
        "dx": 65,
        "dy": 45
      },
      "encoding": {
        "text": { "value": "per serving" },
        "y": { "value": 80 }
      }
    }

  ]
}
